\hypertarget{cpu_8hpp_source}{}\doxysection{cpu.\+hpp}
\label{cpu_8hpp_source}\index{/Users/daniel/Developer/access-\/to-\/retro/access-\/to-\/retro/chip8-\/virtual-\/console/src/emulator/cpu.hpp@{/Users/daniel/Developer/access-\/to-\/retro/access-\/to-\/retro/chip8-\/virtual-\/console/src/emulator/cpu.hpp}}
\mbox{\hyperlink{cpu_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#ifndef\ ACCESS\_TO\_RETRO\_CPU\_HPP}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#define\ ACCESS\_TO\_RETRO\_CPU\_HPP}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <access-\/to-\/retro-\/dev/access-\/to-\/retro-\/dev.h>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <array>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <stack>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{controller_8hpp}{controller.hpp}}"{}}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ram-memory_8hpp}{ram-\/memory.hpp}}"{}}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gpu_8hpp}{gpu.hpp}}"{}}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacear_1_1chip8}{ar::chip8}}}
\DoxyCodeLine{00016\ \{}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keyword}{constexpr}\ std::size\_t\ \mbox{\hyperlink{namespacear_1_1chip8_a73205d901d0b090d6bb7d92c32b98592}{GENERAL\_REGISTER\_COUNT}}\ =\ 16;}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classar_1_1chip8_1_1cpu}{cpu}}}
\DoxyCodeLine{00022\ \ \ \ \ \{}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu}{cpu}}(\mbox{\hyperlink{classar_1_1chip8_1_1ram__memory}{ar::chip8::ram\_memory}}\&\ ram\_link,\ \mbox{\hyperlink{classar_1_1chip8_1_1gpu}{ar::chip8::gpu}}\&\ gpu\_link,\ \mbox{\hyperlink{classar_1_1chip8_1_1controller}{ar::chip8::controller}}\&\ controller\_link);}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_ad98be8ad6059d518fe57be1d2c798d25}{tick\_timers}}();}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a28c655eda78c7a382d3b2305b981251e}{tick}}();}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classar_1_1chip8_1_1gpu}{ar::chip8::gpu}}\&\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_abdeebc327a16dd91a533c749e073addc}{\_gpu\_link}};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classar_1_1chip8_1_1ram__memory}{ar::chip8::ram\_memory}}\&\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_ad56472506497e08ec211d70380bff179}{\_ram\_link}};}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classar_1_1chip8_1_1controller}{ar::chip8::controller}}\&\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a36067ba151d8dfe3556ad1f054625697}{\_controller\_link}};}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ std::stack<uint16\_t>\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_adf3a0bf7b54acfa1c1a9498a98e86aaf}{\_call\_stack}}\ \{\};}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ uint16\_t\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a141692beb6d6f5a1569759230f4fc118}{\_encoded\_instruction}}\ =\ 0x0000;}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ******************\ Registers\ ******************}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ std::array<ar\_byte,\ ar::chip8::GENERAL\_REGISTER\_COUNT>\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a6e4a016f45358cd2aeb44c1b57a0151d}{\_general\_registers}}\ \{\ 0\ \};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ uint16\_t\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a3c4ebb3f79ec8209f56d00b98375d296}{\_special\_register\_pc}}\ =\ 0x200;}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ uint16\_t\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_ad436a69a91509ae91f46f2d50dc2d845}{\_special\_register\_i}}\ =\ 0x0000;}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ******************\ Timers\ ******************}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ ar\_byte\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a8e25cbdb536c37d42e10aea7feec66e8}{\_sound\_timer}}\ =\ 0x00;}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ ar\_byte\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_af9ecf74777738c16223afb6b97a36ab2}{\_delay\_timer}}\ =\ 0x00;}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ******************\ CPU\ Tick\ Functions\ ******************}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a6cdb9911eabd829f6a6c65ae7a5a3f56}{increment\_program\_counter}}();}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_af1c37462b0719082b067b8f05fc946d7}{fetch}}();}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_ad96afdfc4bf777bd483d08d6b206c477}{decode\_and\_execute}}();}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \textcolor{comment}{\ \ \ \ \ \ \ \ /*******************\ Instructions\ Functions\ *******************/}}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ [[nodiscard]]\ ar\_byte\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_adf467517a900ef1a8a5f720f6af82469}{get\_x\_argument\_from\_opcode}}();}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ [[nodiscard]]\ ar\_byte\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a007088b1781d6ed0283bdfa031fe8fc3}{get\_y\_argument\_from\_opcode}}();}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ [[nodiscard]]\ uint16\_t\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a2fe67540bd155a612c7b2891dbb59435}{get\_nnn\_argument\_from\_opcode}}();}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ [[nodiscard]]\ ar\_byte\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_aec2a38e54cc85d119771509e5ffb8731}{get\_nn\_argument\_from\_opcode}}();}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ [[nodiscard]]\ ar\_byte\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a23f598389f7d46268239d49449aeaf13}{get\_n\_argument\_from\_opcode}}();}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Note:\ VX\ =\ General\ register\ with\ index\ in\ argument\ X}}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a388ed5794ea1ae9241dbf9ea2af9d911}{clear\_screen}}();}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a88d0af31cf66e8f9a58bc7d10421ee57}{fn\_return}}();}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a9dd3a8b2be39a46e21cf1da3304cd8f4}{jump}}();}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a137428b95385aee1caddd1f7798b767f}{fn\_call}}();}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a6d4ac9e6603b4a0cd436dc4f95a8faf7}{skip\_if\_vx\_eq\_nn}}();}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a6eb2b1dfee197be77f770dd799902812}{skip\_if\_vx\_neq\_nn}}();}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a1f2340449472ce97e8e01f969e29edc9}{skip\_if\_vx\_eq\_vy}}();}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a771aa93ac33504bc22eb90232de45d03}{set\_vx\_to\_nn}}();}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_ac9a14167f5848660779d3e38542f88e0}{set\_add\_nn\_to\_vx}}();}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_af5209e60fd23d135ae83b0455ce1f908}{set\_vx\_to\_vy}}();}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a841a2128ca5d1705e0d42233fd9dbc02}{set\_vx\_to\_vx\_or\_vy}}();}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a09724bc0a5d0d18494e3816f445c2dfe}{set\_vx\_to\_vx\_and\_vy}}();}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a58f1c2b2bcb6a4018448be9fb8502c04}{set\_vx\_to\_vx\_xor\_vy}}();}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_ad7f3c63936fcf33bda406f48bad4b642}{add\_vy\_to\_vx}}();}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_aebc9965ea19c845d333e018b8fb9e204}{sub\_vy\_from\_vx}}();}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_afeeaf8223f4af33812d3a0a8046f5985}{store\_least\_sig\_vx}}();}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_aa82f4240575d4b0f14cf563339121f81}{set\_vx\_to\_vy\_sub\_vx}}();}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_affff26b6b9612e64d5941fe2dd79d365}{store\_most\_sig\_vx}}();}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_aaa9aba9bb0744a02bef23c11a6f9f2f4}{skip\_if\_vx\_neq\_vy}}();}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a2c5a078fa66eba0f21609c62d1f84478}{set\_i\_to\_nnn}}();}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_ab21380b7e256c96f5dd3cec0b5a562b7}{jump\_add\_v0}}();}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a27e2f3cff2c7721229ec1f020da490d6}{set\_vx\_to\_rand\_and\_nn}}();}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a5a285453cda06d62dfa97db3d2295cca}{draw}}();}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a831321a5e21240f8a7e77146176e75b6}{skip\_if\_vx\_key\_pressed}}();}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a7a2c27a9a3be724cac3306f5a89bee14}{skip\_if\_vx\_key\_not\_pressed}}();}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_aae5fba2f0f867af99651c74d26c776a3}{set\_vx\_to\_delay\_timer}}();}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a271fda058323ec4a569dec486737e217}{set\_vx\_to\_wait\_get\_key}}();}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a1f2b0bd079bd84dc29622406dd99c0f2}{set\_delay\_timer\_to\_vx}}();}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a282b188159d3e801f8981900dee0806e}{set\_sound\_timer\_to\_vx}}();}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a328d577c2cff6e3200068d24ebabef2a}{add\_vx\_to\_i}}();}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a3f7871b15d454aa945b9df729037d709}{set\_i\_to\_sprite\_location\_for\_vx}}();}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a33990c661bf142a7daaa7795b10fb85d}{store\_vcx\_bcd\_at\_i}}();}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_a44f565f0e3fbbd86d732d80b63672bfc}{dump\_general\_registers\_at\_i}}();}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classar_1_1chip8_1_1cpu_aeb1e2ab44033c95b8fa986a3670acaa4}{fill\_general\_registers\_from\_i}}();}
\DoxyCodeLine{00222\ \ \ \ \ \};}
\DoxyCodeLine{00223\ \}}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//ACCESS\_TO\_RETRO\_CPU\_HPP}}

\end{DoxyCode}
